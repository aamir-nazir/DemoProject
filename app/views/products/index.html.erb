<div class="row">
  <div class="col-md-12">
    <h1>Listing Products</h1>
    <%= paginate @products %>
    <div class="table-responsive">
      <table class="table table-bordered text-center">
        <tr class="bg-primary">
          <th class="text-center">Title</th>
          <th class="text-center col-md-6">Body</th>
          <th class="text-center">Price</th>
          <th></th>
          <th></th>
        </tr>

        <% @products.each do |product| %>
          <tr>
            <td><%= product.title %></td>
            <td><%= truncate_text(100, product.body) %></td>
            <td class="info" >$<%= product.price %></td>
            <td><%= link_to 'Show', product %></td>
            <% unless in_cart(product.id) %>
              <td ><%= link_to 'Add to cart', cart_add_path, data: { remote: true, params: { product_id: product.id}.to_param }, id: product.id %></td>
            <% else %>
              <td ><%= link_to 'Remove from cart', cart_remove_path, data: { remote: true, params: { product_id: product.id}.to_param }, id: product.id %></td>
            <% end %>
          </tr>
        <% end %>
      </table>

      <%= link_to 'New Product', new_product_path, class: "btn btn-primary" %>
      <%= link_to 'Show Cart', cart_path, class: "btn btn-primary" %>
    <div>
  </div>
</div>
